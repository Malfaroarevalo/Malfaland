<!DOCTYPE html>
<html>
  <head>
    <title>Interactive World Map</title>
    <style>
      #world-map {
        position: relative;
        width: 1000px;
        height: 500px;
        background-image: url('world.jpg');
        background-size: cover;
      }
      #player {
        position: absolute;
        top: 0;
        left: 0;
        width: 50px;
        height: 50px;
        background-image: url('player1.jpg');
        background-size: cover;
      }
      .encounter {
        position: absolute;
        width: 50px;
        height: 50px;
        background-image: url('enemy.jpg');
        background-size: cover;
        display: none;
      }
      .context-menu {
        position: absolute;
        z-index: 1;
        background-color: #fff;
        border: 1px solid #ccc;
        padding: 5px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="world-map">
      <div id="player"></div>
      <div id="encounters"></div>
      <div id="context-menu"></div>
    </div>
<script>
  // Define the player object
var player = {
  x: 0,
  y: 0
};

// Define the encounters array
var encounters = [];

// Create 10 random encounters
for (var i = 0; i < 10; i++) {
  var encounter = {
    x: Math.floor(Math.random() * 950),
    y: Math.floor(Math.random() * 450)
  };
  encounters.push(encounter);
}

// Add event listeners to the world map
var worldMap = document.getElementById('world-map');
worldMap.addEventListener('mousedown', function(event) {
  if (event.button === 0) {
    // Move the player to the clicked position
    var rect = worldMap.getBoundingClientRect();
    player.x = event.clientX - rect.left - 25;
    player.y = event.clientY - rect.top - 25;
    var playerDiv = document.getElementById('player');
    playerDiv.style.left = player.x + 'px';
    playerDiv.style.top = player.y + 'px';
    
    // Check if the player encounters an enemy
    for (var i = 0; i < encounters.length; i++) {
      var encounter = encounters[i];
      if (Math.abs(player.x - encounter.x) < 25 && Math.abs(player.y - encounter.y) < 25) {
        // Prompt the user to enter a battle scene
        var confirmBattle = confirm('Do youwant to enter a battle scene?');
        if (confirmBattle) {
          // Enter the battle scene
          console.log('Entering battle scene...');
        }
      }
    }
  } else if (event.button === 2) {
    // Show the context menu at the clicked position
    var contextMenu = document.getElementById('context-menu');
    contextMenu.style.left = event.clientX + 'px';
    contextMenu.style.top = event.clientY + 'px';
    contextMenu.style.display = 'block';
  }
});

// Add event listener to hide the context menu
document.addEventListener('mouseup', function(event) {
  if (event.button === 2) {
    var contextMenu = document.getElementById('context-menu');
    contextMenu.style.display = 'none';
  }
});

// Add event listener to hide the context menu on right-click outside of the map
document.addEventListener('contextmenu', function(event) {
  if (event.target.id !== 'world-map') {
    var contextMenu = document.getElementById('context-menu');
    contextMenu.style.display = 'none';
  }
});

// Display the encounters on the map
var encountersDiv = document.getElementById('encounters');
for (var i = 0; i < encounters.length; i++) {
  var encounter = encounters[i];
  var encounterDiv = document.createElement('div');
  encounterDiv.className = 'encounter';
  encounterDiv.style.left = encounter.x + 'px';
  encounterDiv.style.top = encounter.y+ 'px';
  encountersDiv.appendChild(encounterDiv);
}

// Add context menu options based on the clicked location
worldMap.addEventListener('contextmenu', function(event) {
  var contextMenu = document.getElementById('context-menu');
  var icon = getIconAt(event.clientX, event.clientY);
  contextMenu.innerHTML = '';
  if (icon === 'enemy') {
    var option = document.createElement('div');
    option.innerHTML = 'Attack';
    contextMenu.appendChild(option);
  } else if (icon === 'treasure') {
    var option = document.createElement('div');
    option.innerHTML = 'Open';
    contextMenu.appendChild(option);
  }
});

// Helper function to get the icon at a given position
function getIconAt(x, y) {
  var elements = document.elementsFromPoint(x, y);
  for (var i = 0; i < elements.length; i++) {
    var element = elements[i];
    if (element.className === 'encounter') {
      return 'enemy';
    } else if (element.className === 'treasure') {
      return 'treasure';
    }
  }
  return null;
}
    </script>
  </body>
</html>